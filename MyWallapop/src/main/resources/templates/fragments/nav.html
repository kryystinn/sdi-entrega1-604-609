<!-- nav.html -->
<nav style="background-color: #97cbff;" >
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target="#myNavbar">
				<span class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
			<img src="/img/logo.png" alt="logo" />
		</div>
		<div class="collapse navbar-collapse" id="myNavbar">
			<ul class="nav navbar-nav" sec:authorize="isAuthenticated()">
				<li><a th:id="home" href="/home" th:text=#{nav.home} style="color: black;"></a></li>
				
				<li id="users-menu" class="dropdown" sec:authorize="hasRole('ROLE_ADMIN')">
					<a id="btnUserManagement" class="dropdown-toggle" data-toggle="dropdown" href="#"
						th:text="#{nav.user.management}" style="color: black;"><span class="caret"></span>
					</a>
					<ul id="admin-user-menu" class="dropdown-menu">
						<li><a id="seeUsers" href="/user/list" th:text="#{nav.user.management.see}"></a></li>
					</ul>
				</li>
				
				<li id="offers-menu" class="dropdown" sec:authorize="hasRole('ROLE_USER')">
					<a id="btnOffersManagement" class="dropdown-toggle" data-toggle="dropdown" href="#" style="color: black;">
						<span th:text="#{nav.offer.management}"></span>
						<span class="caret"></span>
					</a>
					<ul id="offersDropdownMenu" class="dropdown-menu">
						<li><a id="addOffer" href="/offer/add" th:text="#{nav.offer.management.add}"></a></li>
						<li><a id="offersList" href="/offer/list" th:text="#{nav.offer.management.see}"></a></li>
					</ul>
				</li>
				
				<li sec:authorize="hasRole('ROLE_USER')" >
					<a id="purchases" href="/offer/purchases" th:text="#{nav.my.purchases}" style="color: black;"></a>
				</li>
			</ul>  
				</li>
			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown"><a id="btnLanguage" href=" #"
					class="dropdown-toggle" data-toggle="dropdown" role="button"
					aria-haspopup="true" aria-expanded="false" style="color: black;"> <span
						th:text="#{language.change}"></span> <span class="caret"></span>
				</a>
					<ul id="languageDropdownMenuButton" class="dropdown-menu">
						<li><a id="btnEnglish" value="EN"> <img
								th:src="@{/img/if_uk_flag.png}"
								style="border: 0; float: left; margin-right: 15px" /> <span
								th:text="#{language.en}"></span>
						</a></li>
						<li><a id="btnSpanish" value="ES"> <img
								th:src="@{/img/if_spain_flag.png}"
								style="border: 0; float: left; margin-right: 15px" /> <span
								th:text="#{language.es}"></span>
						</a></li>
				</ul></li>
				<li sec:authorize="!isAuthenticated()"><a href="/signup"
					th:text="#{signup.message}" style="color: black;"> <span
						class="glyphicon glyphicon-user"></span>
				</a></li>
				<li sec:authorize="!isAuthenticated()"><a href="/login"
					th:text="#{login.message}" style="color: black;"> <span
						class="glyphicon glyphicon-log-in"></span>
				</a></li>
				
				<li class="dropdown" sec:authorize="isAuthenticated()">
					<a id="btnGroup" href=" #"
						class="dropdown-toggle" data-toggle="dropdown" role="button"
						aria-haspopup="true" aria-expanded="false" style="color: black;"> 
						<span id="loggedUser" sec:authentication="principal.username" th:inline="text"></span>
						<span class="caret"></span>
					</a>
					<ul id="usersdropdownMenuButton" class="dropdown-menu">
						<li style="text-align:center" sec:authorize="hasRole('ROLE_USER')"> 
							<span th:text="${session.balance}" style="font-size: 20pt; color: #00db00;"></span>
						</li>
						<li><a id="btnLogout" href="/logout" style="color: black;">  
							<span class="glyphicon glyphicon-log-out"></span> <span th:text="#{logout.button}"></span> 
						</a></li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
</nav>